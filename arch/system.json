{
    "interfaces": [
        {
            "name": "CountItemAPI",
            "type": "API",
            "description": "External API for managing count item metadata (register, list, update, delete)."
        },
        {
            "name": "ExternalCountUpdateAPI",
            "type": "API",
            "description": "External API for high-frequency count value operations (increase, decrease, reset)."
        },
        {
            "name": "CountItemManagementUI",
            "type": "UI",
            "description": "UI interface (HTMX) for count item management screens."
        },
        {
            "name": "CountItemMonitoringUI",
            "type": "UI",
            "description": "UI interface (HTMX) for real-time monitoring of a specific count item's value."
        },
        {
            "name": "CountValueAPI",
            "type": "API",
            "description": "API for retrieving current count values (specific item or all items)."
        },
        {
            "name": "CountHistoryAPI",
            "type": "API",
            "description": "API for retrieving change history logs for count items."
        },
        {
            "name": "CountItemHistoryUI",
            "type": "UI",
            "description": "UI interface (HTMX) for displaying count item change history."
        },
        {
            "name": "InternalCountValueAPI",
            "type": "API",
            "description": "Internal API to manage and retrieve count values for specific items."
        },
        {
            "name": "PostgreSQL",
            "type": "API",
            "description": "PostgreSQL database interface for persistent storage."
        }
    ],
    "components": [
        {
            "type": "MSA.Component",
            "name": "ManagementBackend",
            "description": "Handles count item metadata and UI logic (HTMX).",
            "providing-interfaces": ["CountItemAPI", "CountItemManagementUI", "CountItemMonitoringUI", "CountItemHistoryUI"],
            "required-interfaces": ["PostgreSQL", "InternalCountValueAPI", "CountHistoryAPI"],
            "properties": [
                {
                    "container": {
                        "image": "count-management-service"
                    }
                }
            ]
        },
        {
            "type": "MSA.Component.PostgreSQL",
            "name": "ManagementPostgreSQL",
            "description": "Stores count item metadata (names, descriptions).",
            "providing-interfaces": ["PostgreSQL"],
            "required-interfaces": [],
            "properties": [
                {
                    "container": {
                        "image": "postgres:15-alpine"
                    }
                }
            ]
        },
        {
            "type": "MSA.Component",
            "name": "ProcessingBackend",
            "description": "Handles high-frequency count value updates, retrievals, and history logging.",
            "providing-interfaces": ["InternalCountValueAPI", "ExternalCountUpdateAPI", "CountValueAPI", "CountHistoryAPI"],
            "required-interfaces": ["PostgreSQL"],
            "properties": [
                {
                    "container": {
                        "image": "count-processing-service",
                        "cpu": "3",
                        "memory": "6Gi",
                        "replicas": 4
                    }
                }
            ]
        },
        {
            "type": "MSA.Component.PostgreSQL",
            "name": "ProcessingPostgreSQL",
            "description": "Stores current count values and history logs with high integrity.",
            "providing-interfaces": ["PostgreSQL"],
            "required-interfaces": [],
            "properties": [
                {
                    "container": {
                        "image": "postgres:15-alpine",
                        "cpu": "4",
                        "memory": "12Gi"
                    }
                }
            ]
        },
        {
            "type": "MSA.Service",
            "name": "count-management-service",
            "description": "Service for managing count item metadata and providing the management UI.",
            "providing-interfaces": ["CountItemAPI", "CountItemManagementUI", "CountItemMonitoringUI", "CountItemHistoryUI"],
            "required-interfaces": ["InternalCountValueAPI", "CountHistoryAPI"],
            "components": {
                "backend": "ManagementBackend",
                "db": "ManagementPostgreSQL"
            },
            "connectors": [
                {
                    "from": "backend",
                    "to": "db",
                    "interface": "PostgreSQL"
                }
            ]
        },
        {
            "type": "MSA.Service",
            "name": "count-processing-service",
            "description": "Service for processing count value operations.",
            "providing-interfaces": ["InternalCountValueAPI", "ExternalCountUpdateAPI", "CountValueAPI", "CountHistoryAPI"],
            "required-interfaces": [],
            "components": {
                "backend": "ProcessingBackend",
                "db": "ProcessingPostgreSQL"
            },
            "connectors": [
                {
                    "from": "backend",
                    "to": "db",
                    "interface": "PostgreSQL"
                }
            ]
        },
        {
            "type": "MSA.System",
            "name": "CountManagementSystem",
            "description": "Root system for Count Management and Processing.",
            "providing-interfaces": ["CountItemAPI", "ExternalCountUpdateAPI", "CountItemManagementUI", "CountValueAPI", "CountItemMonitoringUI", "CountHistoryAPI", "CountItemHistoryUI"],
            "required-interfaces": [],
            "components": {
                "management": "count-management-service",
                "processing": "count-processing-service"
            },
            "connectors": [
                {
                    "from": "management",
                    "to": "processing",
                    "interface": "InternalCountValueAPI"
                },
                {
                    "from": "management",
                    "to": "processing",
                    "interface": "CountHistoryAPI"
                }
            ]
        }
    ]
}
